//
// Cards Mixin
//

@mixin card($ratioX: false, $ratioY: false, $perspective: 1000, $padding: 1em, $flipper: ".flipper", $front: ".front", $back: ".back") {

	position: relative;
	padding: 0; margin: 0 0 1em 0;

	-webkit-perspective: $perspective;
	perspective: $perspective;

	#{$flipper} {
		
		border: 1px solid #eee;

		-webkit-transform-style: preserve-3d;
		transform-style: preserve-3d;
		-webkit-transition: 0.6s;
		transition: 0.6s;

		#{$front}, #{$back} {
			width: 100%;
			padding: $padding;
			-webkit-backface-visibility: hidden; 
			backface-visibility: hidden; 
		}

		#{$front} {
			z-index: 2;
		}

		#{$back} {
			position: absolute;
			height: 100%;
			overflow-y: scroll;
			left: 0; top: 0;
			-webkit-transform: rotateY(180deg);
			transform: rotateY(180deg);
		}

		//Ratio detection and settings
		@if ($ratioX != false) and ($ratioY != false) {

			width: 100%; height: 0;
			padding-bottom: percentage($ratioY / $ratioX);

		}

		@media #{$small} {

			&:hover {
				-webkit-transform: rotate3d(0,1,0,180deg);
				transform: rotate3d(0,1,0,180deg);
			}

		}
	}


}


//
// Default CSS Classes
//

.card { @include card(); }
.card.square { @include card($ratioX: 1, $ratioY: 1); }