//
// @version
//   4.1.6
//
// @title
//   Alert Boxes
//
// @description
//   An alert box is an element you can drop into a form or inline on a page to communicate success, warnings,
//   failure or just information. They'll [stretch](http://youtu.be/0lw17Pb7Nso) to 100% of the container width you put them in.
//


//
// Alert Variables
//
$include-html-alert-classes: $include-html-classes !default;

// We use this to control alert padding.
$alert-padding-top: emCalc(11px) !default;
$alert-padding-default-float: $alert-padding-top !default;
$alert-padding-opposite-direction: $alert-padding-top + emCalc(10px) !default;
$alert-padding-bottom: $alert-padding-top + emCalc(1px) !default;

// We use these to control text style.
$alert-font-weight: bold !default;
$alert-font-size: emCalc(14px) !default;
$alert-font-color: #fff !default;
$alert-font-color-alt: darken($secondary-color, 60%) !default;

// We use this for close hover effect.
$alert-function-factor: 10% !default;

// We use these to control border styles.
$alert-border-style: solid !default;
$alert-border-width: 1px !default;
$alert-border-color: darken($primary-color, $alert-function-factor) !default;
$alert-bottom-margin: emCalc(20px) !default;

// We use these to style the close buttons
$alert-close-color: #333 !default;
$alert-close-position: emCalc(5px) !default;
$alert-close-font-size: emCalc(22px) !default;
$alert-close-opacity: 0.3 !default;
$alert-close-opacity-hover: 0.5 !default;
$alert-close-padding: 5px 4px 4px !default;

// We use this to control border radius
$alert-radius: $global-radius !default;

//
// Alert Mixins
//

// We use this mixin to create a default alert base.
@mixin alert-base {
  border-style: $alert-border-style;
  border-width: $alert-border-width;
  display: block;
  font-weight: $alert-font-weight;
  margin-bottom: $alert-bottom-margin;
  position: relative;
  padding: $alert-padding-top $alert-padding-opposite-direction $alert-padding-bottom $alert-padding-default-float;
  font-size: $alert-font-size;
}

// We use this mixin to add alert styles
@mixin alert-style($bg:$primary-color) {

  // This find the lightness percentage of the background color.
  $bg-lightness: lightness($bg);

  // We control which background color and border come through.
  background-color: $bg;
  border-color: darken($bg, $alert-function-factor);

  // We control the text color for you based on the background color.
  @if $bg-lightness > 70% { color: $alert-font-color-alt; }
  @else                   { color: $alert-font-color; }

}

// We use this to create the close button.
@mixin alert-close {
  font-size: $alert-close-font-size;
  padding: $alert-close-padding;
  line-height: 0;
  position: absolute;
  top: $alert-close-position + emCalc(2px);
  #{$opposite-direction}: $alert-close-position;
  color: $alert-close-color;
  opacity: $alert-close-opacity;
  &:hover,
  &:focus { opacity: $alert-close-opacity-hover; }
}

// We use this to quickly create alerts with a single mixin.
@mixin alert($bg:$primary-color, $radius:false) {
  @include alert-base;
  @include alert-style($bg);
  @include radius($radius);
}


// Controls output of default classes
@if $include-html-alert-classes != false {

// @CSS
//   Creating alert boxes with CSS is as easy as copy and paste, just make sure you've followed the
//   [Getting Started with CSS](http://comedian.local:4000/components/css-start.html) guide to setup your project correctly.

// @example
//   <div data-alert class="alert-box">
//     This is a standard alert.
//     <a href="#" class="close">&times;</a>
//   </div>

// @classes
//   .alert-box: Contains all the default styles for an alert box.

// @text
//   The following classes can be added to "alert-box" to control the background color.

// .success: Turn the background green, great for success messages.
// .alert: Turn the background red, great for error messages.
// .secondary: Turn the background gray, great for subtle messages.

// @text
//   The following classes can be combined with any of the classes above to alter the border radius. Like so: <class="alert-box success radius>"

// .radius: Add a 3px radius to the corners.
// .round: Add a 1000px radius to the corners, making it look like a pill.

// @example-prototype alert-box
//   <div data-alert class="alert-box @@param">
//     This is a standard alert.
//     <a href="#" class="close">&times;</a>
//   </div>
//   @example: @@success
//   @example: @@alert
//   @example: @@secondary
//   @example: @@radius
//   @example: @@round success

  .alert-box {
    @include alert;

    &.success { @include alert-style($success-color); }
    &.alert { @include alert-style($alert-color); }
    &.secondary { @include alert-style($secondary-color); }
    &.radius { @include radius($alert-radius); }
    &.round { @include radius($global-rounded); }

// @feature
//   The Close Button
//
// @desc
//   If you don't want people to have access to a close button, simply leave out the anchor and the <data-alert> attribute, like so:

// @example
//   <div class="alert-box">
//     Neener, neener, neener. You can't close me!
//   </div>

    // Default styles alert box close buttons.
    .close { @include alert-close; }
  }

}